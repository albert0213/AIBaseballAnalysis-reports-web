<!doctype html>

<html lang="ko">

<head>

  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>Report Viewer</title>

  <link rel="stylesheet" href="css/styles.css" />

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  

  <style>

    #centerPreview {

      max-width: 100%; /* 컨테이너 너비에 맞게 자동 축소 */

      height: auto;    /* 종횡비 유지 */

      display: block;  /* 이미지 하단의 불필요한 여백 제거 */

    }

  </style>

</head>

<body>

  <header class="topbar">

    <h1>Report Viewer (Static)</h1>

    <nav class="topnav">

      <button id="nav-rotation" class="nav-btn">어깨-골반 회전</button>

      <button id="nav-center" class="nav-btn">무게 중심 이동</button>

    </nav>

  </header>



  <aside class="sidebar" id="sidebar">

    <div class="sidebar-header">

      <strong>Reports</strong>

    </div>

    <div id="report-list" class="report-list">로딩 중...</div>

  </aside>



  <main class="content">

        <section id="view-main" class="view active">

            <section id="summary-cards" class="cards">

        <div class="card"><div class="label">Player</div><div class="value" id="card-player">-</div></div>

        <div class="card"><div class="label">Name</div><div class="value" id="card-player-name">-</div></div>

        <div class="card"><div class="label">Team / No.</div><div class="value" id="card-team-num">-</div></div>

        <div class="card"><div class="label">Report</div><div class="value" id="card-report">-</div></div>

        <div class="card"><div class="label">Swing</div><div class="value" id="card-swing-type">-</div></div>

        <div class="card"><div class="label">Separation</div><div class="value" id="card-sep">-</div></div>

        <div class="card"><div class="label">Stride (cm)</div><div class="value" id="card-stride">-</div></div>

      </section>



            <section class="player-box">

        <div class="video-wrap" id="videoWrap">

          <video id="player" controls playsinline preload="metadata" crossorigin="anonymous"></video>

          <video id="overlayVid" playsinline muted preload="metadata" crossorigin="anonymous"></video>

          <canvas id="overlay"></canvas>

        </div>



        <div class="controls">

          <div class="overlay-select">

            <label>Overlay:

              <select id="overlaySelect">

                <option value="">(없음)</option>

                <option value="skeleton.mp4">Skeleton(스켈레톤)</option>

                <option value="hand_trace.mp4">Hand trace(타격 손 추적)</option>

                <option value="head_stability.mp4">Head stability(머리 고정)</option>

                <option value="center_shift.mp4">Center shift(중심 이동)</option>

                <option value="shoulder_hip_rotation.mp4" selected>Shoulder-Hip Rotation(어깨-골반 회전)</option>

              </select>

            </label>

            <label style="margin-left:8px;">Opacity

              <input id="overlayOpacity" type="range" min="0" max="100" value="70">

            </label>

            <label style="margin-left:8px;">Blend

              <select id="overlayBlend">

                <option value="screen" selected>screen</option>

                <option value="lighten">lighten</option>

                <option value="normal">normal</option>

              </select>

            </label>

          </div>



                    <div class="playback">

            <span class="speed-label">Speed:</span>

            <button class="rate-btn" data-rate="1">1x</button>

            <button class="rate-btn" data-rate="0.5">1/2x</button>

            <button class="rate-btn" data-rate="0.25">1/4x</button>

            <button class="rate-btn" data-rate="0.125">1/8x</button>

          </div>



          <input id="seek" type="range" min="0" max="1000" value="0" />

        </div>

      </section>



            <section class="raw">

        <details>

          <summary>summary.json</summary>

          <pre id="raw-summary">-</pre>

        </details>

        <details>

          <summary>series.json</summary>

          <pre id="raw-series">-</pre>

        </details>

      </section>

    </section>



        <section id="view-rotation" class="view">

      <div class="subhead">

        <button class="btn" id="back-main-1">← 뒤로</button>

        <h2>어깨-골반 회전</h2>

      </div>



      <section class="charts">

        <canvas id="chart-rotation"></canvas>

      </section>



      <section class="frame-preview">

        <div class="frame-preview-head">

          <strong>Snapshot @ <span id="rotationMeta">-</span></strong>

          <button id="btnSaveRotationPng" class="btn">PNG 저장</button>

        </div>

        <img id="rotationPreview" alt="rotation frame preview" />

      </section>

    </section>



        <section id="view-center" class="view">

      <div class="subhead">

        <button class="btn" id="back-main-2">← 뒤로</button>

        <h2>무게 중심 이동</h2>

      </div>



            <section class="frame-preview">

        <div class="frame-preview-head">

          <strong>Snapshot @ Frame <span id="centerMeta">-</span></strong>

          <button id="btnSaveCenterPng" class="btn">PNG 저장</button>

        </div>

        <img id="centerPreview" alt="center shift frame preview" />

                <canvas id="centerCanvas" class="offscreen"></canvas>

      </section>



            <div class="center-controls">

        <label class="center-slider-label">Frame:

          <span id="centerFrameLabel">-</span>

        </label>

        <input id="centerFrame" type="range" min="1" max="1" step="1" value="1" />

      </div>



            <div class="center-bar">

        <div class="center-bar-left" id="centerLeft"></div>

        <div class="center-bar-right" id="centerRight"></div>

      </div>



            <div class="center-bar-legend">

        <span><span class="chip chip-blue"></span> Left (파란색)</span>

        <span><span class="chip chip-red"></span> Right (빨간색)</span>

      </div>



            <div class="center-ratio-big" id="centerRatioBig"> </div>

    </section>

  </main>



  <script defer src="js/app.js"></script>

</body>

</html>