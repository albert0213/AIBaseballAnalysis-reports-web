/* --- 기본 레이아웃/다크테마 --- */
:root{
  --bg:#0f1115; --bg-soft:#161a22; --panel:#1d2330; --text:#e6e9ef; --muted:#98a2b3;
  --accent:#4ea4ff; --card:#1a1f2b; --border:#2a3242;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font:14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, sans-serif;
  display:grid; grid-template-columns:260px 1fr; grid-template-rows:auto 1fr;
  grid-template-areas:"topbar topbar" "sidebar content";
}
.topbar{grid-area:topbar; padding:12px 16px; background:var(--bg-soft); border-bottom:1px solid var(--border)}
.topbar h1{margin:0; font-size:16px; color:#cdd6f4}

.sidebar{grid-area:sidebar; border-right:1px solid var(--border); background:var(--bg-soft); overflow:auto}
.sidebar-header{padding:12px 14px; color:var(--muted); border-bottom:1px solid var(--border)}
.report-list{padding:8px 8px 24px}

.content{grid-area:content; padding:16px 18px 72px; overflow:auto}

/* 카드 */
.cards{display:grid; grid-template-columns:repeat(7,minmax(120px,1fr)); gap:8px; margin-bottom:16px}
.card{background:var(--card); border:1px solid var(--border); border-radius:10px; padding:10px}
.card .label{font-size:12px; color:var(--muted)}
.card .value{font-weight:600; margin-top:2px}

/* 플레이어 박스 */
.player-box{background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:12px; margin-bottom:16px}

/* === 비디오/오버레이 레이어 정렬(핵심) === */
.player{
  position:relative;
  width:100%;
  max-width:1280px;
  margin:0 auto;
  aspect-ratio: 16 / 9; /* 초기 렌더 안정화(메타데이터 로드 후 JS가 재조정 가능) */
}
.player > video,
.player > canvas,
.player > .overlay-video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
}
.player > video{
  object-fit:contain; /* 좌표 정합을 위해 contain 권장 */
  background:#000;
}
.player > canvas{ pointer-events:none }

/* 타임 라벨 */
.time-label{
  position:absolute; left:12px; top:12px;
  background:rgba(0,0,0,.55); color:#fff; padding:4px 8px; border-radius:6px;
  font-variant-numeric: tabular-nums;
}

/* 컨트롤 */
.controls{display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top:10px}
.controls .overlay-select{display:flex; align-items:center; gap:8px}
.controls input[type="range"]{width:320px}

/* 차트/원본 보기 */
.charts{background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:12px; margin-bottom:16px}
.raw details{background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:10px; margin-bottom:8px}
.raw summary{cursor:pointer; color:var(--muted)}
